Constructing decks:
https://mscgen.js.org/?lang=msgenny&mirrorentities=true&style=classic&msc=width%3D%221200%22%2C%20watermark%3D%22App%20initialization%22%3B%0A%0AassembleMainMachine%20%3D%3E%20CollectionStore%3A%20(for%20deckCollectionStore)%3B%0ACollectionStore%20%3D%3E%20%22loadThings%22%3B%0AloadThings%20%3E%3E%20CollectionStore%3A%20deck%20objects%3B%0ACollectionStore%20%3E%3E%20assembleMainMachine%3A%20collectionStore%3B%0A%23assembleMainMachine%20note%20assembleMainMachine%3A%20After%20an%20indeterminate%20amount%20of%20time%E2%80%A6%3B%0A%0AassembleMainMachine%20%3D%3E%20collectionStore.get%3B%0AcollectionStore.get%20%3D%3E%20collectionStore.rehydrate%3B%0AcollectionStore.rehydrate%20%3D%3E%20idsPersister.get%3B%0A%0AidsPersister.get%20%3E%3E%20collectionStore.rehydrate%3A%20ids%3B%0AcollectionStore.rehydrate%20%3D%3E%20thingPersister.get%3A%20ids%3B%0AthingPersister.get%20%3E%3E%20collectionStore.rehydrate%3A%20Decks%3B%0AcollectionStore.rehydrate%20%3E%3E%20collectionStore.get%3A%20Decks%3B%0AcollectionStore.get%20%3E%3E%20assembleMainMachine%3A%20Decks%3B%0A%0AassembleMainMachine%20%3D%3E%20ThingStore%3A%20Deck%3B%0AThingStore%20%3E%3E%20assembleMainMachine%3A%20deckStore%3B%0A%0AassembleMainMachine%20%3D%3E%20deckResponderMapper%3A%20%22collectionStore%2C%20deckStore%22%3B%0AdeckResponderMapper%20%3D%3E%20deckStore.get%3B%0AdeckStore.get%20%3D%3E%20rehydrateDeck%3B%0ArehydrateDeck%20%3D%3E%20thingPersister.get%3A%20(pile%20id)%3B%0AthingPersister.get%20%3E%3E%20rehydrateDeck%3A%20Pile%3B%0ArehydrateDeck%20%3E%3E%20deckStore.get%20%3A%20Deck%20(with%20Pile%20objects%20in%20piles)%3B%0AdeckStore.get%20%3E%3E%20deckResponderMapper%20%3A%20Deck%3B

Add pile:
